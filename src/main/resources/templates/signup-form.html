<!DOCTYPE html>
<html lang="en"
      xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
  <div th:replace="~{fragments/headFragment :: head}"></div>
</head>

<body>

<div th:replace="~{fragments/navbar :: navbar}"></div>

<div class="container-fluid p-3">

      <div class="my-2 mx-auto w-75">

        <div th:if="${exception != null}" th:text="${exception}"
             class="alert alert-danger" role="alert">
        </div>

        <div class="card">

          <div class="card-header">
            <h3 class="text-center">Formulaire d'inscription</h3>
          </div>

          <div class="card-body">
            <form th:action="@{/client/register}" th:object="${clientDto}" method="post">

              <!-- Champ pour credentials -->

              <div class="row">

                <h4>Informations de connexion</h4>

                  <div class="col-md-4">
                    <div class="mb-3">

                      <label class="form-label">Email&ast;</label>
                      <input type="email" th:field="*{email}" class="form-control">
                      <div class="fields-error">
                        <p th:each="error:${#fields.errors('email')}" th:text="${error}"></p>
                      </div>

                    </div>
                  </div>

                  <div class="col-md-4">

                    <div class="mb-3">
                      <label class="form-label">Mot de passe&ast;</label>
                      <input type="password" th:field="*{password}" class="form-control">
                      <div class="fields-error">
                        <p th:each="error:${#fields.errors('password')}" th:text="${error}"></p>
                      </div>

                    </div>

                  </div>

                  <div class="col-md-4">

                    <div class="mb-3">

                      <label class="form-label">Confirmer le mot de passe&ast;</label>
                      <input type="password" th:field="*{matchingPassword}" class="form-control">
                      <div class="fields-error">
                        <p th:each="error : ${#fields.globalErrors()}" th:text="${error}"></p>
                      </div>

                    </div>

                  </div>

              </div>

              <!-- Champ pour les infos perso-->
              <div class="row">

                <h4>Informations personnelles</h4>

                <div class="col-md-4">
                  <div class="mb-3">

                    <label class="form-label">Prénom&ast;</label>
                    <input type="text" th:field="*{firstName}" class="form-control">
                    <div class="fields-error">
                      <p th:each="error:${#fields.errors('firstName')}" th:text="${error}"></p>
                    </div>

                  </div>
                </div>

                <div class="col-md-4">
                  <div class="mb-3">

                    <label class="form-label">Nom&ast;</label>
                    <input type="text" th:field="*{lastName}" class="form-control">
                    <div class="fields-error">
                      <p th:each="error:${#fields.errors('lastName')}" th:text="${error}"></p>
                    </div>

                  </div>
                </div>

                <div class="col-md-4">
                <div class="mb-3">

                  <label class="form-label">Numéro de téléphone&ast;</label>
                  <input type="text" th:field="*{phoneNumberList[0].phoneNumber}" class="form-control">
                  <div class="fields-error">
                    <p th:each="error:${#fields.errors('phoneNumberList[0].phoneNumber')}" th:text="${error}"></p>
                  </div>

                </div>
              </div>

              </div>

              <!-- Champ pour l'adresse -->

              <h5>Adresse</h5>

              <div class="row">
                <div class="col-md-4">
                  <div class="mb-3">
                    <label class="form-label">Titre&ast;</label>
                    <input type="text" th:field="*{addressList[0].title}" placeholder="Chez moi, au travail, ..."  class="form-control">
                    <div class="fields-error">
                      <p th:each="error:${#fields.errors('addressList[0].title')}" th:text="${error}"></p>
                    </div>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="mb-3">
                    <label class="form-label">Numéro&ast;</label>
                    <input type="text" th:field="*{addressList[0].number}" placeholder="1, 2bis, 1234ter, ..."  class="form-control">
                    <div class="fields-error">
                      <p th:each="error:${#fields.errors('addressList[0].number')}" th:text="${error}"></p>
                    </div>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="mb-3">
                    <label class="form-label">Type de voie&ast;</label>
                    <input type="text" th:field="*{addressList[0].roadPrefix}" placeholder="Rue, boulevard, chemin, ..." class="form-control">
                    <div class="fields-error">
                      <p th:each="error:${#fields.errors('addressList[0].roadPrefix')}" th:text="${error}"></p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-3">
                  <div class="mb-3">
                    <label class="form-label">Nom de voie&ast;</label>
                    <input type="text" th:field="*{addressList[0].roadName}" class="form-control">
                    <div class="fields-error">
                      <p th:each="error:${#fields.errors('addressList[0].roadName')}" th:text="${error}"></p>
                    </div>

                  </div>
                </div>

                <div class="col-md-3">
                  <div class="mb-3">
                    <label class="form-label">Complément&ast;</label>
                    <input type="text" th:field="*{addressList[0].complement}" placeholder="Bât 4 Appt 12, ..." class="form-control">
                    <div class="fields-error">
                      <p th:each="error:${#fields.errors('addressList[0].complement')}" th:text="${error}"></p>
                    </div>
                  </div>
                </div>

                <div class="col-md-3">
                  <div class="mb-3">
                    <label class="form-label">Code Postal&ast;</label>
                    <input type="text" th:field="*{addressList[0].zipCode}" placeholder="Code postal" class="form-control">
                    <div class="fields-error">
                      <p th:each="error:${#fields.errors('addressList[0].zipCode')}" th:text="${error}"></p>
                    </div>
                  </div>
                </div>

                <div class="col-md-3">
                  <div class="mb-3">
                    <label class="form-label">Ville&ast;</label>
                    <input type="text" th:field="*{addressList[0].city}" placeholder="Commune" class="form-control">
                    <div class="fields-error">
                      <p th:each="error:${#fields.errors('addressList[0].zipCode')}" th:text="${error}"></p>
                    </div>
                  </div>
                </div>
              </div>


              <div class="row my-3">
                  <button type="submit" class="col-md-6 btn btn-outline-success btn-lg mx-auto">S'inscrire</button>
              </div>

            </form>
          </div>

        </div>

      </div>

</div>


<div th:replace="~{fragments/footer :: footer}"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>